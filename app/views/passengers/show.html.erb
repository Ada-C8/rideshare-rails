<h1>Passengers#show</h1>

<section class="edit-delete-menu">
  <%= link_to("Edit", edit_passenger_path(@passenger.id)) %>
  <%= link_to("Delete", delete_passenger_path(@passenger.id), method: :delete, data: {confirm: "Are you sure you would like to delete this passenger?"}) %>
  <%= link_to("New Trip", create_trip_path(:passenger => @passenger), method: :post) %>
</section>

<h2><%= @passenger.name %></h2>

<h3><%= @passenger.phone_num %></h3>

<%if @passenger.trips.empty?%>
    <p> This person has not yet taken any rides.</p>
<%else%>
  <section>
    <<table>
      <thead>
        <tr>
          <th>Trip ID</th>
          <th>Date</th>
          <th>Cost</th>
          <th>Driver Name</th>
          <th>Rating</th>
        </tr>
      </thead>

      <tbody>

        <% @passenger.trips.each do |t| %>

        <tr>
          <td><%= link_to(t.id, trip_path(t.id)) %></td>
          <td> <%= t.date %></td>
          <td> <%= format("%.2f", t.cost/100) %></td>
          <td> <%= t.driver.name  %> </td>
          <td> <%= t.rating %></td>
        </tr>

        <% end %>
      </tbody>
    </table>
  </section>


  <section>
    <h3>Total Trips Charged:</h3>
    <%= (@passenger.total_charged)/100 %>
  </section>
<% end %>
