<!-- <section>
  <ul>
    <%@trips.each do |trip| %>
      <li><%= link_to "Trip #{trip.id} on #{trip.date}", trip_path(trip.id)%></li>
    <%end%>
  </ul>
</section> -->


<% trip_headers = %w(rating date cost) %>

<% if params[:controller] == "riders" %>
  <% trip_headers.insert(2, "driver_id") %>
<% elsif params[:controller] == "drivers" %>
  <% trip_headers.insert(2, "rider_id") %>
<% end %>

<table id = 'trips-table'>
  <tr>
    <% trip_headers.each do |key| %>
    <th><%= "Trip #{key.capitalize}" %></th>
    <% end %>
  </tr>

  <% @trips.each do |trip| %>
  <tr>
    <% trip_headers.each do |key| %>
    <td>
      <% if key == "cost" %>
        <%= "$ #{'%.02f' % ((trip.cost).to_f/100)}" %>
      <% elsif key == "date" %>
        <%= link_to "#{trip.date}", trip_path(trip.id)%>
      <% elsif key == ("rider_id" || "driver_id") %>
        <%= "<a href='#{key[0...-3]}_path(trip.attributes[key])'>#{trip.attributes[key]}</a>".html_safe %>
      <% else %>
        <%= trip.attributes[key] %>
      <% end %>
    </td>
    <% end %>
  </tr>
  <% end %>
</table>

<!-- <%= @trips.first.attributes %>


<table id = 'trips-table'>

  <tr>
    <% @trips.first.attributes.keys.each do |key| %>
      <th><%= key %></th>
    <% end %>
  </tr>
  <% @trips.each do |trip| %>
  <tr>
    <td></td>

    <% if params[:controller] == "drivers"%>
    <td>
      <%= trip.rider.name %>
    </td>
    <% elsif params[:controller] == "riders"%>
    <td>
      <%= trip.driver.name %>
    </td>
    <% end %>
  </tr>
  <% end %>
</table> -->
<!--
<table id = 'trips-table'>
  <tr>
    <th>Trip ID</th>
    <th>Trip Date</th>
    <th>
      Trip Cost
    </th>
    <th>
      Trip Rating
    </th>
    <% if params[:controller] == "drivers"%>
    <th>
      Trip Rider
    </th>
    <% elsif params[:controller] == "riders"%>
    <th>
      Trip Driver
    </th>
    <% end %>
  </tr>
  <% @trips.each do |trip| %>
  <tr>
    <td><%= link_to "#{trip.id}", trip_path(trip.id)%></td>
    <td><%= trip.date %></td>
    <td>
      $<%= '%.02f' % ((trip.cost).to_f/100) %>
    </td>
    <td>
      <%= trip.rating %>
    </td>

    <% if params[:controller] == "drivers"%>
    <td>
      <%= trip.rider.name %>
    </td>
    <% elsif params[:controller] == "riders"%>
    <td>
      <%= trip.driver.name %>
    </td>
    <% end %>
  </tr>
  <% end %>
</table> -->
